<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>contactez nous Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link th:href="@{/static/css/contactezNous.css}" rel="stylesheet">
</head>

<body>
<!-- Header pour role Ruche -->
<div th:if="${loggedInUser != null and loggedInUser.getRole().getId_role() == 2}">
    <div th:replace="headerRuche.html"></div>
</div>

<!-- Header pour role Admin -->
<div th:if="${loggedInUser != null and loggedInUser.getRole().getId_role() == 3}">
    <div th:replace="headerConnect.html"></div>
</div>


<!-- Header pour session non connectée -->
<div th:unless="${loggedInUser != null}">
    <div th:replace="headerNonConnect.html"></div>
</div>

	

    
    <div class="container">
        <div class="row align-items-center">
            
            <!-- Titre -->
            <div class="col">
                <h1 class="mt-3 mb-4">POSTES</h1>
                <h2>Vous souhaitez mieux connaître le rôle des différents membres de la ruche ? Retournez les cartes pour chaque profil !</p>
            </div>
        </div>
 
           <div class="row justify-content-center mt-4">
    <div class="col-12">
        <div class="row">
            <div th:each="poste : ${postes}" class="flip-card mr-2 col-3" th:id="'posteCard-' + ${poste.idPoste}" >
                <div class="flip-card-inner">
                    <!-- Face avant de la carte -->
                    <div class="flip-card-front">
                        <div class="d-flex flex-column align-items-center justify-content-center">
                            <i class="fas fa-user fa-3x mr-2"></i>
                            <h4 th:text="${poste.namePoste}">Nom du Poste</h4>
                        </div>
                    </div>
                    <!-- Face arrière de la carte -->
                    <div class="flip-card-back">
                        <div class="card-text">
                            <h3>Definition</h3>
                            <p th:text="${poste.description}">Description</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<img src="/static/images/Mascotte_HautParleur.png" alt="Mascotte" class="img-fluid Mascotte"
        style="position: fixed; bottom: 10%; right: 10%; max-width: 8%;">
 
 
    <script th:inline="javascript">
	document.addEventListener('DOMContentLoaded', function () {
    var cards = document.querySelectorAll('[id^=posteCard-]');
    cards.forEach(function (card) {
        card.addEventListener('click', function () {
            var postId = this.id.split('-')[1];
           
            window.location.href = '/contact2?id_poste=' + postId;
        });
    });
});
    function flipCard(card) {
    card.querySelector('.card').style.transform = card.querySelector('.card').style.transform === 'rotateY(180deg)' ? 'rotateY(0)' : 'rotateY(180deg)';
  }
  fetch('headeruserFSP')
            
            .then(response => response.text())
            .then(data => {
                document.getElementById('headerContainer').innerHTML = data;
                // Charger les scripts JavaScript après avoir inséré le contenu de l'en-tête
                loadHeaderScripts();
            })
            .catch(error => console.error(error));
 
        function loadHeaderScripts() {
            // Charger les scripts JavaScript nécessaires après avoir inséré l'en-tête
            const script1 = document.createElement('script');
            script1.src = 'https://code.jquery.com/jquery-3.6.0.min.js';
            document.body.appendChild(script1);
 
            const script2 = document.createElement('script');
            script2.textContent = `
                function toggleMenu() {
                    var menu = document.getElementById("menuOptions");
                    menu.style.display = (menu.style.display === "block") ? "none" : "block";
                }
            `;
            document.body.appendChild(script2);
        }
</script>
</body>
</html>
